[defaults]
# Basic configuration
inventory = inventories/production/hosts.yml
roles_path = roles:~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles
collections_path = collections:~/.ansible/collections:/usr/share/ansible/collections
remote_user = ansible
private_key_file = ~/.ssh/id_rsa

# Output and logging
stdout_callback = yaml
callback_whitelist = profile_tasks, timer
log_path = ./ansible.log
display_skipped_hosts = False
display_ok_hosts = True

# Performance tuning
host_key_checking = False
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cache
fact_caching_timeout = 86400
forks = 20
poll_interval = 15
timeout = 30

# Security
become_ask_pass = False
ask_pass = False
ask_vault_pass = False

# Retry and error handling
retry_files_enabled = True
retry_files_save_path = ./retry

# Plugins
action_plugins = action_plugins
callback_plugins = callback_plugins
filter_plugins = filter_plugins
lookup_plugins = lookup_plugins
library = library

[inventory]
enable_plugins = host_list, script, auto, yaml, ini, toml

[ssh_connection]
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
pipelining = True
control_path_dir = /tmp/.ansible-cp
control_path = %(directory)s/%%h-%%p-%%r

[persistent_connection]
connect_timeout = 30
command_timeout = 30